<div 
  class="absolute bottom-0 left-0 right-0 h-10 flex items-center px-2 gap-2 z-[10000]"
  [style.background]="'var(--taskbar-bg)'"
  [style.backdrop-filter]="'var(--backdrop-filter)'"
  [style.justify-content]="'var(--taskbar-alignment)'"
>
  <!-- Main content wrapper to handle alignment -->
  <div class="flex items-center gap-2" [class.flex-grow]="windowManager.activeTheme() !== 'win11'">

    <!-- Start Button -->
    <button class="start-button flex items-center justify-center h-8"
      [style.background]="'var(--start-btn-bg)'"
      [style.color]="'var(--start-btn-text-color)'"
      [style.fontWeight]="'var(--start-btn-font-weight)'"
      [style.padding]="'var(--start-btn-padding)'"
      (click)="windowManager.openApp('settings')"
      [style.border]="'var(--border-width) var(--border-style-outset) var(--border-color-light)'"
      [style.border-right-color]="'var(--border-color-dark)'"
      [style.border-bottom-color]="'var(--border-color-dark)'"
    >
      <img [src]="'var(--start-btn-image)'" alt="Start" class="w-5 h-5 mr-1" />
      Start
    </button>

    <!-- Running Processes -->
    <div class="flex items-center gap-1 overflow-x-auto">
      @for (process of processes(); track process.processId) {
        <button 
          (click)="handleTaskClick(process)"
          class="flex items-center gap-2 h-7 px-2 max-w-40 text-sm truncate"
          [class.active-task]="activeProcessId() === process.processId && !process.isMinimized"
          [style.border]="'var(--border-width) var(--border-style-outset) var(--border-color-light)'"
          [style.border-right-color]="'var(--border-color-dark)'"
          [style.border-bottom-color]="'var(--border-color-dark)'"
          [style.background]="'var(--window-bg)'"
        >
          <img [src]="process.icon" alt="icon" class="w-4 h-4" />
          <span>{{ process.title }}</span>
        </button>
      }
    </div>
  </div>


  <!-- Clock -->
  <div class="clock ml-auto text-sm px-2 h-7 flex items-center"
      [style.border]="'var(--border-width) var(--border-style-inset) var(--border-color-light)'"
      [style.border-right-color]="'var(--border-color-dark)'"
      [style.border-bottom-color]="'var(--border-color-dark)'"
  >
    {{ currentTime() }}
  </div>
</div>

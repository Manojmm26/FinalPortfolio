<div class="flex items-center gap-2 h-full" system-tray>
    <div class="hidden md:flex items-center justify-center w-6 hover:bg-white/40 rounded h-8 cursor-pointer">
        <span class="text-xs">^</span>
    </div>

    <!-- Action Toggle -->
    <div class="flex items-center gap-2 px-2 hover:bg-white/40 rounded h-8 cursor-pointer transition"
        [class.bg-white-40]="isActionCenterOpen" (click)="onToggleActionCenter()">
        <img src="https://img.icons8.com/ios-filled/50/000000/wifi--v1.png" class="w-4 h-4 opacity-70">
        <img src="https://img.icons8.com/ios-filled/50/000000/high-volume--v1.png" class="w-4 h-4 opacity-70">
        <img src="https://img.icons8.com/ios-filled/50/000000/battery-level.png" class="w-4 h-4 opacity-70">
    </div>

    <!-- Clock -->
    <div class="flex flex-col items-end justify-center px-2 hover:bg-white/40 rounded h-8 cursor-pointer transition w-20"
        [class.bg-white-40]="isCalendarOpen" (click)="onToggleCalendar()">
        <span class="text-xs font-medium text-gray-700">{{ currentTime }}</span>
        <span class="text-[10px] text-gray-600">{{ currentDate }}</span>
    </div>

    <div class="w-1 h-full border-l border-gray-300 ml-2"></div>

    <!-- Action Center Popup -->
    <div *ngIf="isActionCenterOpen"
        class="window-enter absolute bottom-16 right-4 w-80 glass rounded-xl shadow-2xl p-4 z-50 cursor-default"
        (click)="$event.stopPropagation()">
        <div class="grid grid-cols-3 gap-4 mb-6">
            <button
                class="h-12 bg-white rounded flex items-center justify-center hover:bg-gray-50 border border-gray-200 shadow-sm active:scale-95 transition">
                <span class="text-blue-600 font-bold">Wi-Fi</span>
            </button>
            <button
                class="h-12 bg-gray-200/50 rounded flex items-center justify-center hover:bg-gray-200 border border-gray-200/50 active:scale-95 transition">
                <span>Bluetooth</span>
            </button>
            <button
                class="h-12 bg-gray-200/50 rounded flex items-center justify-center hover:bg-gray-200 border border-gray-200/50 active:scale-95 transition">
                <span>‚úàÔ∏è</span>
            </button>
            <button
                class="h-12 bg-blue-500 rounded flex items-center justify-center text-white hover:bg-blue-600 active:scale-95 transition">
                <span>üîã</span>
            </button>
            <button
                class="h-12 bg-gray-200/50 rounded flex items-center justify-center hover:bg-gray-200 border border-gray-200/50 active:scale-95 transition">
                <span>üåô</span>
            </button>
            <button
                class="h-12 bg-gray-200/50 rounded flex items-center justify-center hover:bg-gray-200 border border-gray-200/50 active:scale-95 transition">
                <span>‚ôø</span>
            </button>
        </div>

        <!-- Sliders -->
        <div class="space-y-4 mb-4">
            <div class="flex items-center gap-4">
                <span class="text-gray-500 text-xs">üîÜ</span>
                <input type="range" class="w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer">
            </div>
            <div class="flex items-center gap-4">
                <span class="text-gray-500 text-xs">üîä</span>
                <input type="range" class="w-full h-1 bg-blue-500 rounded-lg appearance-none cursor-pointer">
            </div>
        </div>
    </div>

    <!-- Calendar Popup -->
    <div *ngIf="isCalendarOpen"
        class="window-enter absolute bottom-16 right-4 w-80 glass rounded-xl shadow-2xl p-4 z-50 h-[400px] overflow-hidden flex flex-col cursor-default"
        (click)="$event.stopPropagation()">
        <div class="text-sm font-semibold text-gray-600 mb-2">Notifications</div>
        <div class="flex-1 flex items-center justify-center text-gray-400 text-sm">
            No new notifications
        </div>
        <div class="border-t border-gray-300 pt-2">
            <!-- Simple Calendar Grid Mockup -->
            <div class="text-center font-bold mb-2">{{ currentMonth }}</div>
            <div class="grid grid-cols-7 gap-1 text-center text-xs text-gray-600">
                <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
                <span class="text-gray-300">29</span><span class="text-gray-300">30</span><span
                    class="p-1">1</span><span class="p-1">2</span><span class="p-1">3</span><span
                    class="p-1">4</span><span class="p-1">5</span>
                <span class="p-1">6</span><span class="p-1">7</span><span class="p-1">8</span><span
                    class="p-1">9</span><span class="p-1">10</span><span class="p-1">11</span><span
                    class="p-1">12</span>
                <span class="p-1">13</span><span class="p-1">14</span><span class="p-1">15</span><span
                    class="p-1 bg-blue-500 text-white rounded-full">16</span><span class="p-1">17</span><span
                    class="p-1">18</span><span class="p-1">19</span>
            </div>
        </div>
    </div>
</div>